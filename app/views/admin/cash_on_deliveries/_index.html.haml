%table{class: 'table table-striped table--responsive table--cash_on_delivery'}
  %thead
    %tr
      %th
      %th ID
      %th= t_model('cash_on_delivery.began_at')
      %th
      %th 操作
  %tbody
    - cods.each do |cod|
      %tr
        %td{'aria-label': '適用状況'}
          %span{class: 'badge badge-info'}= '現在の代引き手数料' if cod.current_cash_on_delivery?
        %td{'aria-label': 'ID'}= cod.id
        %td{'aria-label': t_model('cash_on_delivery.began_at')}= l(cod.began_at, format: :long)
        %td{'aria-label': '手数料'}
          %table{class: 'table table-sm table--responsive table--cash_on_delivery2'}
            %thead
              %tr
                %th= t_model('cash_on_delivery_fee.began_price')
                %th= t_model('cash_on_delivery_fee.fee')
            %tbody
              - cod.cash_on_delivery_fees.each do |cod_fee|
                %tr
                  %td{'aria-label': t_model('cash_on_delivery_fee.began_price')}
                    %span{'data-test': "cash-on-delivery-fee__began_price_#{cod_fee.id}"}= cod_fee.began_price
                    円
                  %td{'aria-label': t_model('cash_on_delivery_fee.fee')}
                    %span{'data-test': "cash-on-delivery-fee__fee_#{cod_fee.id}"}= cod_fee.fee
                    円
        %td{'aria-label': '操作'}
          - unless cod.began?
            = link_to '編集', edit_admin_cash_on_delivery_path(cod), class: 'btn btn-primary'
            = link_to '削除', [:admin, cod], method: :delete, data: { confirm: t_common('delete_confirm') }, 'data-test': "cash-on-delivery__destroy_#{cod.id}", class: 'btn btn-danger'